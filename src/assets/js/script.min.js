/*! zanata-proto - v0.1.0 - 2013-09-25
* https://github.com/lukebrooker/zanata-proto
* Copyright (c) 2013 Luke Brooker; Licensed MIT */
(function(t,e){"use strict";function n(){if(!r.READY){r.event.determineEventTypes();for(var t in r.gestures)r.gestures.hasOwnProperty(t)&&r.detection.register(r.gestures[t]);r.event.onTouch(r.DOCUMENT,r.EVENT_MOVE,r.detection.detect),r.event.onTouch(r.DOCUMENT,r.EVENT_END,r.detection.detect),r.READY=!0}}var r=function(t,e){return new r.Instance(t,e||{})};r.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},r.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,r.HAS_TOUCHEVENTS="ontouchstart"in t,r.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i,r.NO_MOUSEEVENTS=r.HAS_TOUCHEVENTS&&navigator.userAgent.match(r.MOBILE_REGEX),r.EVENT_TYPES={},r.DIRECTION_DOWN="down",r.DIRECTION_LEFT="left",r.DIRECTION_UP="up",r.DIRECTION_RIGHT="right",r.POINTER_MOUSE="mouse",r.POINTER_TOUCH="touch",r.POINTER_PEN="pen",r.EVENT_START="start",r.EVENT_MOVE="move",r.EVENT_END="end",r.DOCUMENT=document,r.plugins={},r.READY=!1,r.Instance=function(t,e){var i=this;return n(),this.element=t,this.enabled=!0,this.options=r.utils.extend(r.utils.extend({},r.defaults),e||{}),this.options.stop_browser_behavior&&r.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),r.event.onTouch(t,r.EVENT_START,function(t){i.enabled&&r.detection.startDetect(i,t)}),this},r.Instance.prototype={on:function(t,e){for(var n=t.split(" "),r=0;n.length>r;r++)this.element.addEventListener(n[r],e,!1);return this},off:function(t,e){for(var n=t.split(" "),r=0;n.length>r;r++)this.element.removeEventListener(n[r],e,!1);return this},trigger:function(t,e){var n=r.DOCUMENT.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e;var i=this.element;return r.utils.hasParent(e.target,i)&&(i=e.target),i.dispatchEvent(n),this},enable:function(t){return this.enabled=t,this}};var i=null,o=!1,a=!1;r.event={bindDom:function(t,e,n){for(var r=e.split(" "),i=0;r.length>i;i++)t.addEventListener(r[i],n,!1)},onTouch:function(t,e,n){var s=this;this.bindDom(t,r.EVENT_TYPES[e],function(c){var u=c.type.toLowerCase();if(!u.match(/mouse/)||!a){(u.match(/touch/)||u.match(/pointerdown/)||u.match(/mouse/)&&1===c.which)&&(o=!0),u.match(/touch|pointer/)&&(a=!0);var l=0;o&&(r.HAS_POINTEREVENTS&&e!=r.EVENT_END?l=r.PointerEvent.updatePointer(e,c):u.match(/touch/)?l=c.touches.length:a||(l=u.match(/up/)?0:1),l>0&&e==r.EVENT_END?e=r.EVENT_MOVE:l||(e=r.EVENT_END),l||null===i?i=c:c=i,n.call(r.detection,s.collectEventData(t,e,c)),r.HAS_POINTEREVENTS&&e==r.EVENT_END&&(l=r.PointerEvent.updatePointer(e,c))),l||(i=null,o=!1,a=!1,r.PointerEvent.reset())}})},determineEventTypes:function(){var t;t=r.HAS_POINTEREVENTS?r.PointerEvent.getEvents():r.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],r.EVENT_TYPES[r.EVENT_START]=t[0],r.EVENT_TYPES[r.EVENT_MOVE]=t[1],r.EVENT_TYPES[r.EVENT_END]=t[2]},getTouchList:function(t){return r.HAS_POINTEREVENTS?r.PointerEvent.getTouchList():t.touches?t.touches:[{identifier:1,pageX:t.pageX,pageY:t.pageY,target:t.target}]},collectEventData:function(t,e,n){var i=this.getTouchList(n,e),o=r.POINTER_TOUCH;return(n.type.match(/mouse/)||r.PointerEvent.matchType(r.POINTER_MOUSE,n))&&(o=r.POINTER_MOUSE),{center:r.utils.getCenter(i),timeStamp:(new Date).getTime(),target:n.target,touches:i,eventType:e,pointerType:o,srcEvent:n,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return r.detection.stopDetect()}}}},r.PointerEvent={pointers:{},getTouchList:function(){var t=this,e=[];return Object.keys(t.pointers).sort().forEach(function(n){e.push(t.pointers[n])}),e},updatePointer:function(t,e){return t==r.EVENT_END?this.pointers={}:(e.identifier=e.pointerId,this.pointers[e.pointerId]=e),Object.keys(this.pointers).length},matchType:function(t,e){if(!e.pointerType)return!1;var n={};return n[r.POINTER_MOUSE]=e.pointerType==e.MSPOINTER_TYPE_MOUSE||e.pointerType==r.POINTER_MOUSE,n[r.POINTER_TOUCH]=e.pointerType==e.MSPOINTER_TYPE_TOUCH||e.pointerType==r.POINTER_TOUCH,n[r.POINTER_PEN]=e.pointerType==e.MSPOINTER_TYPE_PEN||e.pointerType==r.POINTER_PEN,n[t]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},r.utils={extend:function(t,n,r){for(var i in n)t[i]!==e&&r||(t[i]=n[i]);return t},hasParent:function(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1},getCenter:function(t){for(var e=[],n=[],r=0,i=t.length;i>r;r++)e.push(t[r].pageX),n.push(t[r].pageY);return{pageX:(Math.min.apply(Math,e)+Math.max.apply(Math,e))/2,pageY:(Math.min.apply(Math,n)+Math.max.apply(Math,n))/2}},getVelocity:function(t,e,n){return{x:Math.abs(e/t)||0,y:Math.abs(n/t)||0}},getAngle:function(t,e){var n=e.pageY-t.pageY,r=e.pageX-t.pageX;return 180*Math.atan2(n,r)/Math.PI},getDirection:function(t,e){var n=Math.abs(t.pageX-e.pageX),i=Math.abs(t.pageY-e.pageY);return n>=i?t.pageX-e.pageX>0?r.DIRECTION_LEFT:r.DIRECTION_RIGHT:t.pageY-e.pageY>0?r.DIRECTION_UP:r.DIRECTION_DOWN},getDistance:function(t,e){var n=e.pageX-t.pageX,r=e.pageY-t.pageY;return Math.sqrt(n*n+r*r)},getScale:function(t,e){return t.length>=2&&e.length>=2?this.getDistance(e[0],e[1])/this.getDistance(t[0],t[1]):1},getRotation:function(t,e){return t.length>=2&&e.length>=2?this.getAngle(e[1],e[0])-this.getAngle(t[1],t[0]):0},isVertical:function(t){return t==r.DIRECTION_UP||t==r.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(t,e){var n,r=["webkit","khtml","moz","ms","o",""];if(e&&t.style){for(var i=0;r.length>i;i++)for(var o in e)e.hasOwnProperty(o)&&(n=o,r[i]&&(n=r[i]+n.substring(0,1).toUpperCase()+n.substring(1)),t.style[n]=e[o]);"none"==e.userSelect&&(t.onselectstart=function(){return!1})}}},r.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(t,e){this.current||(this.stopped=!1,this.current={inst:t,startEvent:r.utils.extend({},e),lastEvent:!1,name:""},this.detect(e))},detect:function(t){if(this.current&&!this.stopped){t=this.extendEventData(t);for(var e=this.current.inst.options,n=0,i=this.gestures.length;i>n;n++){var o=this.gestures[n];if(!this.stopped&&e[o.name]!==!1&&o.handler.call(o,t,this.current.inst)===!1){this.stopDetect();break}}return this.current&&(this.current.lastEvent=t),t.eventType==r.EVENT_END&&!t.touches.length-1&&this.stopDetect(),t}},stopDetect:function(){this.previous=r.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(t){var e=this.current.startEvent;if(e&&(t.touches.length!=e.touches.length||t.touches===e.touches)){e.touches=[];for(var n=0,i=t.touches.length;i>n;n++)e.touches.push(r.utils.extend({},t.touches[n]))}var o=t.timeStamp-e.timeStamp,a=t.center.pageX-e.center.pageX,s=t.center.pageY-e.center.pageY,c=r.utils.getVelocity(o,a,s);return r.utils.extend(t,{deltaTime:o,deltaX:a,deltaY:s,velocityX:c.x,velocityY:c.y,distance:r.utils.getDistance(e.center,t.center),angle:r.utils.getAngle(e.center,t.center),direction:r.utils.getDirection(e.center,t.center),scale:r.utils.getScale(e.touches,t.touches),rotation:r.utils.getRotation(e.touches,t.touches),startEvent:e}),t},register:function(t){var n=t.defaults||{};return n[t.name]===e&&(n[t.name]=!0),r.utils.extend(r.defaults,n,!0),t.index=t.index||1e3,this.gestures.push(t),this.gestures.sort(function(t,e){return t.index<e.index?-1:t.index>e.index?1:0}),this.gestures}},r.gestures=r.gestures||{},r.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(t,e){switch(t.eventType){case r.EVENT_START:clearTimeout(this.timer),r.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==r.detection.current.name&&e.trigger("hold",t)},e.options.hold_timeout);break;case r.EVENT_MOVE:t.distance>e.options.hold_threshold&&clearTimeout(this.timer);break;case r.EVENT_END:clearTimeout(this.timer)}}},r.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(t,e){if(t.eventType==r.EVENT_END){var n=r.detection.previous,i=!1;if(t.deltaTime>e.options.tap_max_touchtime||t.distance>e.options.tap_max_distance)return;n&&"tap"==n.name&&t.timeStamp-n.lastEvent.timeStamp<e.options.doubletap_interval&&t.distance<e.options.doubletap_distance&&(e.trigger("doubletap",t),i=!0),(!i||e.options.tap_always)&&(r.detection.current.name="tap",e.trigger(r.detection.current.name,t))}}},r.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:.7},handler:function(t,e){if(t.eventType==r.EVENT_END){if(e.options.swipe_max_touches>0&&t.touches.length>e.options.swipe_max_touches)return;(t.velocityX>e.options.swipe_velocity||t.velocityY>e.options.swipe_velocity)&&(e.trigger(this.name,t),e.trigger(this.name+t.direction,t))}}},r.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(t,n){if(r.detection.current.name!=this.name&&this.triggered)return n.trigger(this.name+"end",t),this.triggered=!1,e;if(!(n.options.drag_max_touches>0&&t.touches.length>n.options.drag_max_touches))switch(t.eventType){case r.EVENT_START:this.triggered=!1;break;case r.EVENT_MOVE:if(t.distance<n.options.drag_min_distance&&r.detection.current.name!=this.name)return;r.detection.current.name=this.name,(r.detection.current.lastEvent.drag_locked_to_axis||n.options.drag_lock_to_axis&&n.options.drag_lock_min_distance<=t.distance)&&(t.drag_locked_to_axis=!0);var i=r.detection.current.lastEvent.direction;t.drag_locked_to_axis&&i!==t.direction&&(t.direction=r.utils.isVertical(i)?0>t.deltaY?r.DIRECTION_UP:r.DIRECTION_DOWN:0>t.deltaX?r.DIRECTION_LEFT:r.DIRECTION_RIGHT),this.triggered||(n.trigger(this.name+"start",t),this.triggered=!0),n.trigger(this.name,t),n.trigger(this.name+t.direction,t),(n.options.drag_block_vertical&&r.utils.isVertical(t.direction)||n.options.drag_block_horizontal&&!r.utils.isVertical(t.direction))&&t.preventDefault();break;case r.EVENT_END:this.triggered&&n.trigger(this.name+"end",t),this.triggered=!1}}},r.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(t,n){if(r.detection.current.name!=this.name&&this.triggered)return n.trigger(this.name+"end",t),this.triggered=!1,e;if(!(2>t.touches.length))switch(n.options.transform_always_block&&t.preventDefault(),t.eventType){case r.EVENT_START:this.triggered=!1;break;case r.EVENT_MOVE:var i=Math.abs(1-t.scale),o=Math.abs(t.rotation);if(n.options.transform_min_scale>i&&n.options.transform_min_rotation>o)return;r.detection.current.name=this.name,this.triggered||(n.trigger(this.name+"start",t),this.triggered=!0),n.trigger(this.name,t),o>n.options.transform_min_rotation&&n.trigger("rotate",t),i>n.options.transform_min_scale&&(n.trigger("pinch",t),n.trigger("pinch"+(1>t.scale?"in":"out"),t));break;case r.EVENT_END:this.triggered&&n.trigger(this.name+"end",t),this.triggered=!1}}},r.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(t,n){return n.options.prevent_mouseevents&&t.pointerType==r.POINTER_MOUSE?(t.stopDetect(),e):(n.options.prevent_default&&t.preventDefault(),t.eventType==r.EVENT_START&&n.trigger(this.name,t),e)}},r.gestures.Release={name:"release",index:1/0,handler:function(t,e){t.eventType==r.EVENT_END&&e.trigger(this.name,t)}},"object"==typeof module&&"object"==typeof module.exports?module.exports=r:(t.Hammer=r,"function"==typeof t.define&&t.define.amd&&t.define("hammer",[],function(){return r}))})(this),function(t,e){"use strict";t!==e&&(Hammer.event.bindDom=function(n,r,i){t(n).on(r,function(t){var n=t.originalEvent||t;n.pageX===e&&(n.pageX=t.pageX,n.pageY=t.pageY),n.target||(n.target=t.target),n.which===e&&(n.which=n.button),n.preventDefault||(n.preventDefault=t.preventDefault),n.stopPropagation||(n.stopPropagation=t.stopPropagation),i.call(this,n)})},Hammer.Instance.prototype.on=function(e,n){return t(this.element).on(e,n)},Hammer.Instance.prototype.off=function(e,n){return t(this.element).off(e,n)},Hammer.Instance.prototype.trigger=function(e,n){var r=t(this.element);return r.has(n.target).length&&(r=t(n.target)),r.trigger({type:e,gesture:n})},t.fn.hammer=function(e){return this.each(function(){var n=t(this),r=n.data("hammer");r?r&&e&&Hammer.utils.extend(r.options,e):n.data("hammer",new Hammer(this,e||{}))})})}(window.jQuery||window.Zepto),window.Modernizr=function(t,e,n){function r(t){E.cssText=t}function i(t,e){return typeof t===e}function o(t,e){return!!~(""+t).indexOf(e)}function a(t,e){for(var r in t){var i=t[r];if(!o(i,"-")&&E[i]!==n)return"pfx"==e?i:!0}return!1}function s(t,e,r){for(var o in t){var a=e[t[o]];if(a!==n)return r===!1?t[o]:i(a,"function")?a.bind(r||e):a}return!1}function c(t,e,n){var r=t.charAt(0).toUpperCase()+t.slice(1),o=(t+" "+y.join(r+" ")+r).split(" ");return i(e,"string")||i(e,"undefined")?a(o,e):(o=(t+" "+N.join(r+" ")+r).split(" "),s(o,e,n))}var u,l,p,d="2.6.2",h={},f=!0,g=e.documentElement,m="modernizr",v=e.createElement(m),E=v.style,_=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),T="Webkit Moz O ms",y=T.split(" "),N=T.toLowerCase().split(" "),b={svg:"http://www.w3.org/2000/svg"},w={},x=[],O=x.slice,D=function(t,n,r,i){var o,a,s,c,u=e.createElement("div"),l=e.body,p=l||e.createElement("body");if(parseInt(r,10))for(;r--;)s=e.createElement("div"),s.id=i?i[r]:m+(r+1),u.appendChild(s);return o=["&#173;",'<style id="s',m,'">',t,"</style>"].join(""),u.id=m,(l?u:p).innerHTML+=o,p.appendChild(u),l||(p.style.background="",p.style.overflow="hidden",c=g.style.overflow,g.style.overflow="hidden",g.appendChild(p)),a=n(u,t),l?u.parentNode.removeChild(u):(p.parentNode.removeChild(p),g.style.overflow=c),!!a},S={}.hasOwnProperty;p=i(S,"undefined")||i(S.call,"undefined")?function(t,e){return e in t&&i(t.constructor.prototype[e],"undefined")}:function(t,e){return S.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=O.call(arguments,1),r=function(){if(this instanceof r){var i=function(){};i.prototype=e.prototype;var o=new i,a=e.apply(o,n.concat(O.call(arguments)));return Object(a)===a?a:o}return e.apply(t,n.concat(O.call(arguments)))};return r}),w.touch=function(){var n;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?n=!0:D(["@media (",_.join("touch-enabled),("),m,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(t){n=9===t.offsetTop}),n},w.csstransforms3d=function(){var t=!!c("perspective");return t&&"webkitPerspective"in g.style&&D("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(e){t=9===e.offsetLeft&&3===e.offsetHeight}),t},w.fontface=function(){var t;return D('@font-face {font-family:"font";src:url("https://")}',function(n,r){var i=e.getElementById("smodernizr"),o=i.sheet||i.styleSheet,a=o?o.cssRules&&o.cssRules[0]?o.cssRules[0].cssText:o.cssText||"":"";t=/src/i.test(a)&&0===a.indexOf(r.split(" ")[0])}),t},w.svg=function(){return!!e.createElementNS&&!!e.createElementNS(b.svg,"svg").createSVGRect};for(var C in w)p(w,C)&&(l=C.toLowerCase(),h[l]=w[C](),x.push((h[l]?"":"no-")+l));return h.addTest=function(t,e){if("object"==typeof t)for(var r in t)p(t,r)&&h.addTest(r,t[r]);else{if(t=t.toLowerCase(),h[t]!==n)return h;e="function"==typeof e?e():e,f!==n&&f&&(g.className+=" "+(e?"":"no-")+t),h[t]=e}return h},r(""),v=u=null,function(t,e){function r(t,e){var n=t.createElement("p"),r=t.getElementsByTagName("head")[0]||t.documentElement;return n.innerHTML="x<style>"+e+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function i(){var t=E.elements;return"string"==typeof t?t.split(" "):t}function o(t){var e=v[t[g]];return e||(e={},m++,t[g]=m,v[m]=e),e}function a(t,n,r){if(n||(n=e),p)return n.createElement(t);r||(r=o(n));var i;return i=r.cache[t]?r.cache[t].cloneNode():f.test(t)?(r.cache[t]=r.createElem(t)).cloneNode():r.createElem(t),i.canHaveChildren&&!h.test(t)?r.frag.appendChild(i):i}function s(t,n){if(t||(t=e),p)return t.createDocumentFragment();n=n||o(t);for(var r=n.frag.cloneNode(),a=0,s=i(),c=s.length;c>a;a++)r.createElement(s[a]);return r}function c(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(n){return E.shivMethods?a(n,t,e):e.createElem(n)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/\w+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(E,e.frag)}function u(t){t||(t=e);var n=o(t);return!E.shivCSS||l||n.hasCSS||(n.hasCSS=!!r(t,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),p||c(t,n),t}var l,p,d=t.html5||{},h=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,g="_html5shiv",m=0,v={};(function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",l="hidden"in t,p=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return t.cloneNode===n||t.createDocumentFragment===n||t.createElement===n}()}catch(r){l=!0,p=!0}})();var E={elements:d.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:d.shivCSS!==!1,supportsUnknownElements:p,shivMethods:d.shivMethods!==!1,type:"default",shivDocument:u,createElement:a,createDocumentFragment:s};t.html5=E,u(e)}(this,e),h._version=d,h._prefixes=_,h._domPrefixes=N,h._cssomPrefixes=y,h.testProp=function(t){return a([t])},h.testAllProps=c,h.testStyles=D,g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+x.join(" "):""),h}(this,this.document),function(t,e,n){function r(t){return"[object Function]"==m.call(t)}function i(t){return"string"==typeof t}function o(){}function a(t){return!t||"loaded"==t||"complete"==t||"uninitialized"==t}function s(){var t=v.shift();E=1,t?t.t?f(function(){("c"==t.t?d.injectCss:d.injectJs)(t.s,0,t.a,t.x,t.e,1)},0):(t(),s()):E=0}function c(t,n,r,i,o,c,u){function l(e){if(!h&&a(p.readyState)&&(_.r=h=1,!E&&s(),p.onload=p.onreadystatechange=null,e)){"img"!=t&&f(function(){y.removeChild(p)},50);for(var r in O[n])O[n].hasOwnProperty(r)&&O[n][r].onload()}}var u=u||d.errorTimeout,p=e.createElement(t),h=0,m=0,_={t:r,s:n,e:o,a:c,x:u};1===O[n]&&(m=1,O[n]=[]),"object"==t?p.data=n:(p.src=n,p.type=t),p.width=p.height="0",p.onerror=p.onload=p.onreadystatechange=function(){l.call(this,m)},v.splice(i,0,_),"img"!=t&&(m||2===O[n]?(y.insertBefore(p,T?null:g),f(l,u)):O[n].push(p))}function u(t,e,n,r,o){return E=0,e=e||"j",i(t)?c("c"==e?b:N,t,e,this.i++,n,r,o):(v.splice(this.i++,0,t),1==v.length&&s()),this}function l(){var t=d;return t.loader={load:u,i:0},t}var p,d,h=e.documentElement,f=t.setTimeout,g=e.getElementsByTagName("script")[0],m={}.toString,v=[],E=0,_="MozAppearance"in h.style,T=_&&!!e.createRange().compareNode,y=T?h:g.parentNode,h=t.opera&&"[object Opera]"==m.call(t.opera),h=!!e.attachEvent&&!h,N=_?"object":h?"script":"img",b=h?"script":N,w=Array.isArray||function(t){return"[object Array]"==m.call(t)},x=[],O={},D={timeout:function(t,e){return e.length&&(t.timeout=e[0]),t}};d=function(t){function e(t){var e,n,r,t=t.split("!"),i=x.length,o=t.pop(),a=t.length,o={url:o,origUrl:o,prefixes:t};for(n=0;a>n;n++)r=t[n].split("="),(e=D[r.shift()])&&(o=e(o,r));for(n=0;i>n;n++)o=x[n](o);return o}function a(t,i,o,a,s){var c=e(t),u=c.autoCallback;c.url.split(".").pop().split("?").shift(),c.bypass||(i&&(i=r(i)?i:i[t]||i[a]||i[t.split("/").pop().split("?")[0]]),c.instead?c.instead(t,i,o,a,s):(O[c.url]?c.noexec=!0:O[c.url]=1,o.load(c.url,c.forceCSS||!c.forceJS&&"css"==c.url.split(".").pop().split("?").shift()?"c":n,c.noexec,c.attrs,c.timeout),(r(i)||r(u))&&o.load(function(){l(),i&&i(c.origUrl,s,a),u&&u(c.origUrl,s,a),O[c.url]=2})))}function s(t,e){function n(t,n){if(t){if(i(t))n||(p=function(){var t=[].slice.call(arguments);d.apply(this,t),h()}),a(t,p,e,0,u);else if(Object(t)===t)for(c in s=function(){var e,n=0;for(e in t)t.hasOwnProperty(e)&&n++;return n}(),t)t.hasOwnProperty(c)&&(!n&&!--s&&(r(p)?p=function(){var t=[].slice.call(arguments);d.apply(this,t),h()}:p[c]=function(t){return function(){var e=[].slice.call(arguments);t&&t.apply(this,e),h()}}(d[c])),a(t[c],p,e,c,u))}else!n&&h()}var s,c,u=!!t.test,l=t.load||t.both,p=t.callback||o,d=p,h=t.complete||o;n(u?t.yep:t.nope,!!l),l&&n(l)}var c,u,p=this.yepnope.loader;if(i(t))a(t,0,p,0);else if(w(t))for(c=0;t.length>c;c++)u=t[c],i(u)?a(u,0,p,0):w(u)?d(u):Object(u)===u&&s(u,p);else Object(t)===t&&s(t,p)},d.addPrefix=function(t,e){D[t]=e},d.addFilter=function(t){x.push(t)},d.errorTimeout=1e4,null==e.readyState&&e.addEventListener&&(e.readyState="loading",e.addEventListener("DOMContentLoaded",p=function(){e.removeEventListener("DOMContentLoaded",p,0),e.readyState="complete"},0)),t.yepnope=l(),t.yepnope.executeStack=s,t.yepnope.injectJs=function(t,n,r,i,c,u){var l,p,h=e.createElement("script"),i=i||d.errorTimeout;h.src=t;for(p in r)h.setAttribute(p,r[p]);n=u?s:n||o,h.onreadystatechange=h.onload=function(){!l&&a(h.readyState)&&(l=1,n(),h.onload=h.onreadystatechange=null)},f(function(){l||(l=1,n(1))},i),c?h.onload():g.parentNode.insertBefore(h,g)},t.yepnope.injectCss=function(t,n,r,i,a,c){var u,i=e.createElement("link"),n=c?s:n||o;i.href=t,i.rel="stylesheet",i.type="text/css";for(u in r)i.setAttribute(u,r[u]);a||(g.parentNode.insertBefore(i,g),f(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},function(t,e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Spinner=e()}(this,function(){"use strict";function t(t,e){var n,r=document.createElement(t||"div");for(n in e)r[n]=e[n];return r}function e(t){for(var e=1,n=arguments.length;n>e;e++)t.appendChild(arguments[e]);return t}function n(t,e,n,r){var i=["opacity",e,~~(100*t),n,r].join("-"),o=.01+100*(n/r),a=Math.max(1-(1-t)/e*(100-o),t),s=u.substring(0,u.indexOf("Animation")).toLowerCase(),c=s&&"-"+s+"-"||"";return p[i]||(d.insertRule("@"+c+"keyframes "+i+"{"+"0%{opacity:"+a+"}"+o+"%{opacity:"+t+"}"+(o+.01)+"%{opacity:1}"+(o+e)%100+"%{opacity:"+t+"}"+"100%{opacity:"+a+"}"+"}",d.cssRules.length),p[i]=1),i}function r(t,e){var n,r,i=t.style;if(void 0!==i[e])return e;for(e=e.charAt(0).toUpperCase()+e.slice(1),r=0;l.length>r;r++)if(n=l[r]+e,void 0!==i[n])return n}function i(t,e){for(var n in e)t.style[r(t,n)||n]=e[n];return t}function o(t){for(var e=1;arguments.length>e;e++){var n=arguments[e];for(var r in n)void 0===t[r]&&(t[r]=n[r])}return t}function a(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t=t.offsetParent;)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}function s(t){return this===void 0?new s(t):(this.opts=o(t||{},s.defaults,h),void 0)}function c(){function n(e,n){return t("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}d.addRule(".spin-vml","behavior:url(#default#VML)"),s.prototype.lines=function(t,r){function o(){return i(n("group",{coordsize:u+" "+u,coordorigin:-c+" "+-c}),{width:u,height:u})}function a(t,a,s){e(p,e(i(o(),{rotation:360/r.lines*t+"deg",left:~~a}),e(i(n("roundrect",{arcsize:r.corners}),{width:c,height:r.width,left:r.radius,top:-r.width>>1,filter:s}),n("fill",{color:r.color,opacity:r.opacity}),n("stroke",{opacity:0}))))}var s,c=r.length+r.width,u=2*c,l=2*-(r.width+r.length)+"px",p=i(o(),{position:"absolute",top:l,left:l});if(r.shadow)for(s=1;r.lines>=s;s++)a(s,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(s=1;r.lines>=s;s++)a(s);return e(t,p)},s.prototype.opacity=function(t,e,n,r){var i=t.firstChild;r=r.shadow&&r.lines||0,i&&i.childNodes.length>e+r&&(i=i.childNodes[e+r],i=i&&i.firstChild,i=i&&i.firstChild,i&&(i.opacity=n))}}var u,l=["webkit","Moz","ms","O"],p={},d=function(){var n=t("style",{type:"text/css"});return e(document.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}(),h={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};s.defaults={},o(s.prototype,{spin:function(e){this.stop();var n,r,o=this,s=o.opts,c=o.el=i(t(0,{className:s.className}),{position:s.position,width:0,zIndex:s.zIndex}),l=s.radius+s.length+s.width;if(e&&(e.insertBefore(c,e.firstChild||null),r=a(e),n=a(c),i(c,{left:("auto"==s.left?r.x-n.x+(e.offsetWidth>>1):parseInt(s.left,10)+l)+"px",top:("auto"==s.top?r.y-n.y+(e.offsetHeight>>1):parseInt(s.top,10)+l)+"px"})),c.setAttribute("role","progressbar"),o.lines(c,o.opts),!u){var p,d=0,h=(s.lines-1)*(1-s.direction)/2,f=s.fps,g=f/s.speed,m=(1-s.opacity)/(g*s.trail/100),v=g/s.lines;(function E(){d++;for(var t=0;s.lines>t;t++)p=Math.max(1-(d+(s.lines-t)*v)%g*m,s.opacity),o.opacity(c,t*s.direction+h,p,s);o.timeout=o.el&&setTimeout(E,~~(1e3/f))})()}return o},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=void 0),this},lines:function(r,o){function a(e,n){return i(t(),{position:"absolute",width:o.length+o.width+"px",height:o.width+"px",background:e,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/o.lines*c+o.rotate)+"deg) translate("+o.radius+"px"+",0)",borderRadius:(o.corners*o.width>>1)+"px"})}for(var s,c=0,l=(o.lines-1)*(1-o.direction)/2;o.lines>c;c++)s=i(t(),{position:"absolute",top:1+~(o.width/2)+"px",transform:o.hwaccel?"translate3d(0,0,0)":"",opacity:o.opacity,animation:u&&n(o.opacity,o.trail,l+c*o.direction,o.lines)+" "+1/o.speed+"s linear infinite"}),o.shadow&&e(s,i(a("#000","0 0 4px #000"),{top:"2px"})),e(r,e(s,a(o.color,"0 0 1px rgba(0,0,0,.1)")));return r},opacity:function(t,e,n){t.childNodes.length>e&&(t.childNodes[e].style.opacity=n)}});var f=i(t("group"),{behavior:"url(#default#VML)"});return!r(f,"transform")&&f.adj?c():u=r(f,"animation"),s}),$(function(){}),$(function(){var t,e;t=function(){$(".dropdown.is-active .dropdown__toggle").click()},e=function(t){var e=$(this).parent(".dropdown");$(".dropdown.is-active").not(e).removeClass("is-active").parents(".dropdown__container").removeClass("is-active"),e.toggleClass("is-active").parents(".dropdown__container").toggleClass("is-active"),t.stopPropagation()},$(".dropdown__toggle a, .dropdown__content").bind("click",function(t){t.stopPropagation()}),$(document).bind("click",t),$(".dropdown__toggle").bind("click",e)}),$(function(){$(".loader__container").on("click",".loader",function(){0>=$(".loader__spinner",this).length&&($(".loader__label",this).append('<span class="loader__spinner"><span></span><span></span><span></span></span>'),$(this).addClass("is-active"))})}),$(function(){function t(t){var e=$(t).attr("data-off-canvas"),n=t.replace("#",""),r=n.replace("off-canvas--",".off-canvas__toggle--");$(".off-canvas__outer").toggleClass(n+"-"+e),$(r).toggleClass("is-active"),$(".off-canvas__inner").attr("data-active-target")?$(".off-canvas__inner").removeClass("is-off-canvas").removeAttr("data-active-target"):$(".off-canvas__inner").addClass("is-off-canvas").attr("data-active-target",t)}var e=$("[class^=off-canvas__toggle], .off-canvas__close");e.on("click",function(t){t.preventDefault()}),e.hammer().on("swipe",function(){t($(this).attr("href"))}),e.hammer().on("release",function(e){e.stopPropagation(),e.preventDefault(),t($(this).attr("href"))}),$(".off-canvas__target").hammer().on("swipe",function(){t("#"+$(this).attr("id"))})}),$(function(){var t=window.location.pathname;$("#nav-user a, #nav-main a, #nav-main-side a, #nav-footer a").each(function(){var e=$(this).attr("href").replace(/\//g,"").replace(/\./g,"");t.toLowerCase().indexOf(e)>=0&&$(this).addClass("is-active")})});